<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="588px" preserveAspectRatio="none" style="width:923px;height:588px;" version="1.1" viewBox="0 0 923 588" width="923px" zoomAndPan="magnify"><defs><filter height="300%" id="f176hnmc618om4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[af2a296c08147f376c8f1ba24314357d]
cluster Sensors--><polygon fill="#FFFFFF" filter="url(#f176hnmc618om4)" points="70,16,80,6,453,6,453,98,443,108,70,108,70,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="443" x2="453" y1="16" y2="6"/><line style="stroke: #000000; stroke-width: 1.5;" x1="70" x2="443" y1="16" y2="16"/><line style="stroke: #000000; stroke-width: 1.5;" x1="443" x2="443" y1="16" y2="108"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="229.5" y="32.5352">Sensors</text><!--MD5=[09d9d087c04ec96dafb1a9bd0e18c514]
cluster Webhook--><polygon fill="#FFFFFF" filter="url(#f176hnmc618om4)" points="159,179,169,169,338,169,338,277,328,287,159,287,159,179" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="328" x2="338" y1="179" y2="169"/><line style="stroke: #000000; stroke-width: 1.5;" x1="159" x2="328" y1="179" y2="179"/><line style="stroke: #000000; stroke-width: 1.5;" x1="328" x2="328" y1="179" y2="287"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66" x="211.5" y="195.5352">Webhook</text><!--MD5=[d90e06a4933b2152a0ae1ca08815041b]
cluster exchange--><path d="M236,354 C236,344 420,344 420,344 C420,344 604,344 604,354 L604,571 C604,581 420,581 420,581 C420,581 236,581 236,571 L236,354 " fill="#FFFFFF" filter="url(#f176hnmc618om4)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M236,354 C236,364 420,364 420,364 C420,364 604,364 604,354 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="210" x="315" y="379.5352">RabbitMQ Message Exchange</text><!--MD5=[ccfa4b1187e293e603cf8e20e1cb2edd]
cluster Processors--><polygon fill="#FFFFFF" filter="url(#f176hnmc618om4)" points="401,187,411,177,623,177,623,269,613,279,401,279,401,187" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="613" x2="623" y1="187" y2="177"/><line style="stroke: #000000; stroke-width: 1.5;" x1="401" x2="613" y1="187" y2="187"/><line style="stroke: #000000; stroke-width: 1.5;" x1="613" x2="613" y1="187" y2="279"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="469" y="203.5352">Processors</text><!--MD5=[8380c7dc6de80df45a1345f906ffb217]
cluster Executors--><polygon fill="#FFFFFF" filter="url(#f176hnmc618om4)" points="724,364,734,354,906,354,906,446,896,456,724,456,724,364" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="896" x2="906" y1="364" y2="354"/><line style="stroke: #000000; stroke-width: 1.5;" x1="724" x2="896" y1="364" y2="364"/><line style="stroke: #000000; stroke-width: 1.5;" x1="896" x2="896" y1="364" y2="456"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="776.5" y="380.5352">Executors</text><!--MD5=[c038515c9f78f8efb27fdfd060f9f424]
entity Weather Emmitter--><rect fill="#FEFECE" filter="url(#f176hnmc618om4)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="86" y="46"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="228" y="51"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="226" y="53"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="226" y="57"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="101" y="79.5352">Weather Emmitter</text><!--MD5=[e5bc6e46606d496fc5ef28479242a113]
entity Motion Emmitter--><rect fill="#FEFECE" filter="url(#f176hnmc618om4)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="283" y="46"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="417" y="51"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="415" y="53"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="415" y="57"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="298" y="79.5352">Motion Emmitter</text><!--MD5=[87a5e332a090a501502d2b160f3be17e]
entity  Listener 1--><rect fill="#FEFECE" filter="url(#f176hnmc618om4)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="202.5" y="217"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="293.5" y="222"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="291.5" y="224"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="291.5" y="228"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="221.5" y="250.5352">Listener 1</text><!--MD5=[3aa400a9351ebfbe76fa213ffa95fe51]
entity Message Exchange--><rect fill="#FEFECE" filter="url(#f176hnmc618om4)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="252" y="394"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="402" y="399"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="400" y="401"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="400" y="405"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="267" y="427.5352">Message Exchange</text><!--MD5=[4115341bfbbcf8c26e0c38b058718c43]
entity Correlation Queue--><rect fill="#FEFECE" filter="url(#f176hnmc618om4)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="252.5" y="519"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="399.5" y="524"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="397.5" y="526"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="397.5" y="530"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="267.5" y="552.5352">Correlation Queue</text><!--MD5=[0c8fea61ecb958f28d754e5f2c518e95]
entity Action Queue--><rect fill="#FEFECE" filter="url(#f176hnmc618om4)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="454.5" y="519"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="567.5" y="524"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="565.5" y="526"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="565.5" y="530"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="469.5" y="552.5352">Action Queue</text><!--MD5=[8c4146582e49f7239f359908c255a0d5]
entity Correlation Processor--><rect fill="#FEFECE" filter="url(#f176hnmc618om4)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="417.5" y="217"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="586.5" y="222"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="584.5" y="224"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="584.5" y="228"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="432.5" y="250.5352">Correlation Processor</text><!--MD5=[9b961ce2de5488261e49b51ed47f3723]
entity Indigo Executor--><rect fill="#FEFECE" filter="url(#f176hnmc618om4)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="740.5" y="394"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="869.5" y="399"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="867.5" y="401"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="867.5" y="405"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="755.5" y="427.5352">Indigo Executor</text><!--MD5=[96f7e1299d4a43069e6ed32352fcac20]
entity HTTP--><ellipse cx="24" cy="69" fill="#FEFECE" filter="url(#f176hnmc618om4)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="6" y="99.5352">HTTP</text><!--MD5=[6f2ff5278f1b99d1d480f8fb0ecd1ae6]
link HTTP to Webhook--><path d="M28.21,78.32 C35.65,92.65 52.04,122.59 70,145 C88.48,168.055 112.2675,191.1875 131.6613,208.7362 C141.3581,217.5106 149.9566,224.8891 156.2439,230.1639 C157.0298,230.8233 157.7796,231.4497 158.491,232.042 C158.5799,232.116 158.6682,232.1895 158.7559,232.2625 " fill="none" id="HTTP-to-Webhook" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="158.7559,232.2625,154.3947,223.4319,154.9119,229.065,149.2787,229.5823,158.7559,232.2625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="71" y="141.5684">Any HTTP call</text><!--MD5=[0b0c298a17f502ef48c692dfb8c635f5]
link Weather Emmitter to Webhook--><path d="M167,92.09 C167,103.365 167,117.9875 167,133.6272 C167,141.447 167,149.5212 167,157.5583 C167,159.5676 167,161.5746 167,163.5747 C167,164.5748 167,165.5731 167,166.5691 C167,167.0672 167,167.5646 167,168.0614 C167,168.3099 167,168.5581 167,168.8062 " fill="none" id="Weather Emmitter-to-Webhook" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="167,168.8062,171,159.8062,167,163.8062,163,159.8062,167,168.8062" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="168" y="141.5684">Http json</text><!--MD5=[20cfc0a0ecd4a902738dd7aef1a28ccd]
link Motion Emmitter to Webhook--><path d="M330.59,92.29 C306.46,109.43 270.73,132.27 236,145 C214.87,152.74 202.37,137.56 186,153 C182.495,156.3038 179.5648,160.0966 177.1211,164.2081 C176.5102,165.2359 175.9297,166.2837 175.3782,167.3488 C175.1024,167.8813 174.8339,168.4182 174.5725,168.959 " fill="none" id="Motion Emmitter-to-Webhook" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="174.5725,168.959,182.0906,162.5967,176.7485,164.4573,174.8879,159.1152,174.5725,168.959" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="274" y="141.5684">http json</text><!--MD5=[47f379e6339040ab1525b52a3fedbac6]
link Webhook to Message Exchange--><path d="M158.9391,243.1596 C158.8029,243.1978 158.6651,243.2365 158.5259,243.2757 C158.2474,243.3541 157.963,243.4345 157.6729,243.5168 C157.0928,243.6815 156.4898,243.854 155.865,244.0342 C154.6156,244.3946 153.2794,244.7859 151.8662,245.2076 C149.0399,246.0508 145.9055,247.0152 142.5406,248.0955 C129.0812,252.4166 111.935,258.5919 96.07,266.2863 C64.34,281.675 37.735,303.14 56,328 C78.98,359.28 173.57,384.41 246.73,399.69 " fill="none" id="Webhook-to-Message Exchange" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="251.96,400.77,243.9576,395.0287,247.0638,399.7565,242.336,402.8627,251.96,400.77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="57" y="324.5684">incoming.motion topic</text><!--MD5=[47f379e6339040ab1525b52a3fedbac6]
link Webhook to Message Exchange--><path d="M175.9639,287.1469 C176.0087,287.2485 176.0536,287.35 176.0988,287.4514 C176.4605,288.2627 176.8365,289.0678 177.2274,289.8649 C178.0093,291.4593 178.8509,293.022 179.7568,294.5398 C181.5686,297.5755 183.6375,300.4313 186,303 C192.48,310.05 197.73,306.18 206,311 C244.95,333.72 284.67,367.33 310,390.37 " fill="none" id="Webhook-to-Message Exchange-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="313.94,393.97,309.999,384.944,310.2507,390.5953,304.5994,390.8469,313.94,393.97" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="231" y="324.5684">incoming.weather topic</text><!--MD5=[7d28a8aa4ab7f569feca3d46fb5b67e4]
link Message Exchange to Correlation Queue--><path d="M334.79,440.05 C333.63,454.06 332.53,472.59 333,489 C333.23,497.01 333.66,505.69 334.12,513.64 " fill="none" id="Message Exchange-to-Correlation Queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="334.45,519,337.9022,509.776,334.1497,514.009,329.9167,510.2565,334.45,519" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="334" y="485.5684">incoming.* topics</text><!--MD5=[54face128be971662d745a98c765bf52]
link Message Exchange to Action Queue--><path d="M393.28,440.13 C412.37,448.79 433.32,459.64 451,472 C468.51,484.25 485.64,501.02 498.57,514.97 " fill="none" id="Message Exchange-to-Action Queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="502.1,518.82,498.9573,509.486,498.7175,515.1378,493.0657,514.898,502.1,518.82" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="473" y="485.5684">action.* topics</text><!--MD5=[0b92be419649879b360d1ae9cb847b88]
link Correlation Processor to Correlation Queue--><path d="M549.23,266.4 C563.2,278.16 577.51,293.43 585,311 C595.4,335.37 665.09,383.44 574,489 C573.92,489.09 492.39,506.89 424.79,521.64 " fill="none" id="Correlation Processor-Correlation Queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="419.54,522.79,429.1824,524.7962,424.4269,521.7326,427.4905,516.9771,419.54,522.79" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="545.3,263.17,549.7274,271.9676,549.1679,266.3385,554.797,265.779,545.3,263.17" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="621" y="422.0684">reads all topics</text><!--MD5=[f648a08151499f2520fda44f532e5fc6]
link Correlation Processor to Message Exchange--><path d="M485,263.26 C469.15,276.66 448.97,294.31 432,311 C405.93,336.64 378.08,367.93 359.33,389.65 " fill="none" id="Correlation Processor-to-Message Exchange" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="355.93,393.59,364.8411,389.3957,359.1992,389.8068,358.7881,384.165,355.93,393.59" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="433" y="324.5684">indigo.* related actions</text><!--MD5=[b24fcd4b3e71d9d1ca8ac12a135125e3]
link Indigo Executor to Action Queue--><path d="M762.34,442.26 C746.53,449.4 729.12,457.14 713,464 C669.83,482.38 620.73,502.05 582.98,516.91 " fill="none" id="Indigo Executor-Action Queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="577.97,518.88,587.8093,519.314,582.6241,517.0526,584.8855,511.8674,577.97,518.88" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="767.19,440.07,757.3413,440.1271,762.6328,442.1272,760.6328,447.4187,767.19,440.07" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="693" y="485.5684">indigo.* related actions</text><!--MD5=[76a610d1527e2ca952b4904343629c7b]
@startuml

node "Sensors" {
    [Weather Emmitter]
    [Motion Emmitter]
}

node "Webhook" {
    [ Listener 1]
}

database "RabbitMQ Message Exchange" as exchange {
    [Message Exchange]
    [Correlation Queue]
    [Action Queue]
}

node "Processors" {
    [Correlation Processor]
}

node "Executors" {
    [Indigo Executor]
    ' [Metrics Publisher]
}

HTTP - -> Webhook : Any HTTP call
[Weather Emmitter] - -> Webhook: Http json
[Motion Emmitter] - -> Webhook: http json
Webhook - -> [Message Exchange]: incoming.motion topic
Webhook - -> [Message Exchange]: incoming.weather topic
[Message Exchange] - -> [Correlation Queue]: incoming.* topics
[Message Exchange] - -> [Action Queue]: action.* topics
[Correlation Processor] <- -> [Correlation Queue]: reads all topics
[Correlation Processor] - -> [Message Exchange]: indigo.* related actions
[Indigo Executor] <- -> [Action Queue]: indigo.* related actions

@enduml

@startuml

node "Sensors" {
    [Weather Emmitter]
    [Motion Emmitter]
}

node "Webhook" {
    [ Listener 1]
}

database "RabbitMQ Message Exchange" as exchange {
    [Message Exchange]
    [Correlation Queue]
    [Action Queue]
}

node "Processors" {
    [Correlation Processor]
}

node "Executors" {
    [Indigo Executor]
}

HTTP - -> Webhook : Any HTTP call
[Weather Emmitter] - -> Webhook: Http json
[Motion Emmitter] - -> Webhook: http json
Webhook - -> [Message Exchange]: incoming.motion topic
Webhook - -> [Message Exchange]: incoming.weather topic
[Message Exchange] - -> [Correlation Queue]: incoming.* topics
[Message Exchange] - -> [Action Queue]: action.* topics
[Correlation Processor] <- -> [Correlation Queue]: reads all topics
[Correlation Processor] - -> [Message Exchange]: indigo.* related actions
[Indigo Executor] <- -> [Action Queue]: indigo.* related actions

@enduml

PlantUML version 1.2020.18(Wed Sep 30 13:40:44 MDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
